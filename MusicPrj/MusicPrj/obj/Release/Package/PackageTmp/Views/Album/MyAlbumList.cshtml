@model IEnumerable<MusicPrj.tAlbum>

@{
    ViewBag.Title = "MyAlbumList2";
    Layout = "~/Views/Shared/_Layout.cshtml";
    int count = 0;
    var account = "";
    if (Session["account"] == null || string.IsNullOrWhiteSpace(Session["account"].ToString()))
    {
        Response.Redirect("~/Index/");
    }
    else
    {
        account = Session["account"].ToString();
    }
    tAlbum tA = new tAlbum();
}

<div class="sidebox">
    <ul>
        <li class="side-li-home-img">@Html.ActionLink("首頁", "Index", null, new { @class = "side-li-home-img" })</li>
        <li class="side-li-serach-img">搜尋</li>
        <li class="side-li-mymusiclibiary-img">@Html.ActionLink("增加專輯", "AddAlbum", new { account = account }, new { @class = "side-li-home-img" })</li>
        <li class="side-li-mymusiclibiary-img">你的音樂庫</li>
        <li class="side-li-mymusiclibiary-img">@Html.ActionLink("back", "Index", null, new { @class = "side-li-home-img" })</li>
    </ul>
</div>

<div class="mainbox">
    <div style="padding-left:50px;padding-top:50px">
        <h3 class="fold-title" data-playurl=""><i class="fa fa-chevron-right"></i> 新增專輯</h3>
        <div class="fold">
            <div class="fold-container">
                <div class="container" style="color:white">
                    @*for start*@
                    @using (Html.BeginForm("AddAlbum", "Album", FormMethod.Post, new { enctype = "multipart/form-data" }))
                    {
                        @Html.AntiForgeryToken()

                        <div class="form-horizontal">
                            <h4>tAlbum</h4>
                            <hr />
                            @Html.ValidationSummary(true, "", new { @class = "text-danger" })

                            <div class="form-group">
                                @Html.LabelFor(model => tA.fAlbumName, htmlAttributes: new { @class = "control-label col-md-2" })
                                <div class="col-md-10">
                                    @Html.EditorFor(model => tA.fAlbumName, new { htmlAttributes = new { @class = "form-control" } })
                                    @Html.ValidationMessageFor(model => tA.fAlbumName, "", new { @class = "text-danger" })
                                </div>
                            </div>

                            <div class="form-group">
                                @Html.LabelFor(model => tA.fMaker, htmlAttributes: new { @class = "control-label col-md-2" })
                                <div class="col-md-10">
                                    @Html.EditorFor(model => tA.fMaker, new { htmlAttributes = new { @class = "form-control" } })
                                    @Html.ValidationMessageFor(model => tA.fMaker, "", new { @class = "text-danger" })
                                </div>
                            </div>

                            <div class="form-group">
                                @Html.LabelFor(model => tA.fYear, htmlAttributes: new { @class = "control-label col-md-2" })
                                <div class="col-md-10">
                                    @Html.EditorFor(model => tA.fYear, new { htmlAttributes = new { @class = "form-control" } })
                                    @Html.ValidationMessageFor(model => tA.fYear, "", new { @class = "text-danger" })
                                </div>
                            </div>

                            <div class="form-group">
                                @Html.LabelFor(model => tA.fType, htmlAttributes: new { @class = "control-label col-md-2" })
                                <div class="col-md-10">
                                    @Html.EditorFor(model => tA.fType, new { htmlAttributes = new { @class = "form-control" } })
                                    @Html.ValidationMessageFor(model => tA.fType, "", new { @class = "text-danger" })
                                </div>
                            </div>

                            <div class="form-group">
                                @Html.LabelFor(model => tA.fStatus, htmlAttributes: new { @class = "control-label col-md-2" })
                                <div class="col-md-10">
                                    @Html.EditorFor(model => tA.fStatus, new { htmlAttributes = new { @class = "form-control" } })
                                    @Html.ValidationMessageFor(model => tA.fStatus, "", new { @class = "text-danger" })
                                </div>
                            </div>

                            <div class="form-group">
                                @Html.LabelFor(model => tA.fALPrice, htmlAttributes: new { @class = "control-label col-md-2" })
                                <div class="col-md-10">
                                    @Html.EditorFor(model => tA.fALPrice, new { htmlAttributes = new { @class = "form-control" } })
                                    @Html.ValidationMessageFor(model => tA.fALPrice, "", new { @class = "text-danger" })
                                </div>
                            </div>

                            <div class="form-group">
                                @Html.LabelFor(model => tA.fCoverPath, htmlAttributes: new { @class = "control-label col-md-2" })
                                <div class="col-md-10">
                                    <input type="file" name="tA.fCoverRealFile" />
                                </div>
                            </div>

                            <div class="form-group">
                                @Html.LabelFor(model => tA.fPublisher, htmlAttributes: new { @class = "control-label col-md-2" })
                                <div class="col-md-10">
                                    @Html.EditorFor(model => tA.fPublisher, new { htmlAttributes = new { @class = "form-control" } })
                                    @Html.ValidationMessageFor(model => tA.fPublisher, "", new { @class = "text-danger" })
                                </div>
                            </div>

                            <div class="form-group">
                                <div class="col-md-offset-2 col-md-10">
                                    <input type="submit" value="Create" class="btn btn-default" />
                                </div>
                            </div>
                        </div>
                    }
                    @*for end*@
                </div>
            </div>
        </div>
        <h1 class="headtitle">你的所有專輯</h1>
        <table>
            <tr>
                @*此處<tr>為自動依瀏覽器大小換欄*@
                @foreach (var item in Model)
                {
                    count++;
                    if (count % 7 == 1)
                    {
                        //      @:<tr>
                    }
                    <td class="productitem">
                        <a href="~/Album/AlbumInfo?amid=@Html.DisplayFor(modelItem => item.fAlbumID)" class="productitemhy">
                            <fieldset style="border:1px solid;height:300px;border-radius:5px;padding:5px;">
                                <table>
                                    <tr><td><img src="~/CoverFiles/@Html.DisplayFor(modelItem => item.fCoverPath)" width="200" height="200" /></td></tr>
                                    <tr>
                                        <td>
                                            <div class="albumname" title="@Html.DisplayFor(modelItem => item.fAlbumName)">@Html.DisplayFor(modelItem => item.fAlbumName)</div>
                                        </td>
                                    </tr>
                                    <tr><td>@Html.DisplayFor(modelItem => item.fMaker)</td></tr>
                                </table>
                            </fieldset>

                        </a>
                    </td>
                    if (count % 7 == 0)
                    {
                        //     @:</tr>
                    }
                }
            </tr>
        </table>
    </div>

</div>
